import{a as I}from"./chunk-SAXCGLB6.js";import"./chunk-GJ3O3IXG.js";import"./chunk-5YWOTWV3.js";import{a as x}from"./chunk-DHNXJEZ4.js";import{k as C,w as M}from"./chunk-WDYG26PG.js";import{$ as g,Ka as v,L as d,La as y,Ma as R,Q as p,Rb as F,S,Sb as D,Ta as b,Ub as j,ab as A,db as w,z as h}from"./chunk-LC2BMWWT.js";import{d as i,e as a,f as c}from"./chunk-HPEDZGUO.js";var f=(()=>{var e,t,m;let r=class extends j{constructor(){super(...arguments);a(this,e,void 0);a(this,t,void 0);a(this,m,void 0);c(this,e,p(C)),c(this,t,p(x)),c(this,m,p(M)),this.createNewArticle=this.effect(h(s=>(s.disable(),i(this,m).createArticle(s.getRawValue()).pipe(D(o=>{o&&o.article?i(this,e).navigate(["/article",o.article.slug]):i(this,e).navigate(["/profile",i(this,t).selectors.user()?.username])},o=>{this.patchState({errorResponse:o.error})},()=>{s.enable()})))))}ngrxOnStoreInit(){this.setState({errorResponse:null})}},n=r;return e=new WeakMap,t=new WeakMap,m=new WeakMap,(()=>{r.\u0275fac=function(){let s;return function(N){return(s||(s=g(r)))(N||r)}}()})(),(()=>{r.\u0275prov=d({token:r,factory:r.\u0275fac})})(),n})();var k=(()=>{var e;let t=class{constructor(){a(this,e,void 0);c(this,e,p(f)),this.errorResponse=i(this,e).selectors.errorResponse}submit(r){i(this,e).createNewArticle(r)}},n=t;return e=new WeakMap,(()=>{t.\u0275fac=function(l){return new(l||t)}})(),(()=>{t.\u0275cmp=S({type:t,selectors:[["app-new-article"]],standalone:!0,features:[A([F(f)]),w],decls:1,vars:1,consts:[[3,"errorResponse","submit"]],template:function(l,u){l&1&&(y(0,"app-article-form",0),b("submit",function(o){return u.submit(o)}),R()),l&2&&v("errorResponse",u.errorResponse)},dependencies:[I],changeDetection:0})})(),n})(),X=k;export{X as default};

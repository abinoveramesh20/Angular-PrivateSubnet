import{a as r}from"./chunk-DHNXJEZ4.js";import{b as j,c as D,d as H,g as N,i as R,j as z,k as v,l as G,m as $,n as B,o as W,p as J,q as K,r as Q,s as V,t as X,x as Z}from"./chunk-WDYG26PG.js";import{Ca as a,Ia as M,Ib as L,Jb as U,Ka as u,La as c,Ma as p,Na as m,Oa as _,Pa as O,Q as o,Rb as Y,S as l,Tb as q,W as F,Xa as I,Ya as f,_a as y,db as d,eb as P,fb as w,m as h,oa as T,x as C}from"./chunk-LC2BMWWT.js";import{d as x,e as b,f as E}from"./chunk-HPEDZGUO.js";var et=(()=>{let e=class{},t=e;return(()=>{e.\u0275fac=function(i){return new(i||e)}})(),(()=>{e.\u0275cmp=l({type:e,selectors:[["app-footer"]],standalone:!0,features:[d],decls:4,vars:0,consts:[["href","https://github.com/AndyT2503/angular-conduit-signals","target","_blank"],[1,"fa-brands","fa-github","me-2"]],template:function(i,s){i&1&&(c(0,"footer")(1,"a",0),m(2,"i",1),f(3,"Fork on Github"),p()())},styles:["footer[_ngcontent-%COMP%]{height:66px;background-color:var(--blue-black-color);display:flex;justify-content:center;align-items:center}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--white-color);text-decoration:none;font-size:1.5rem}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"],changeDetection:0})})(),t})();var nt=function(){return{exact:!0}};function st(t,e){if(t&1&&(_(0),c(1,"li",4),m(2,"i"),f(3),p(),O()),t&2){let n=e.$implicit;a(1),u("routerLink",n.url)("routerLinkActiveOptions",P(5,nt)),a(1),I(n.icon+" me-1"),a(1),y("",n.title," ")}}var lt=function(t){return[t]};function ut(t,e){if(t&1&&(_(0),c(1,"li",4),m(2,"img",5),f(3),p(),O()),t&2){let n=e.ngIf;a(1),u("routerLink",w(4,lt,"@"+n.username))("routerLinkActiveOptions",P(6,nt)),a(1),u("src",n.image,T),a(1),y(" ",n.username," ")}}var ot=(()=>{var e;let n=class{constructor(){b(this,e,void 0);E(this,e,o(r)),this.menu=F(()=>x(this,e).selectors.isAuthenticated()?X:V),this.currentUser=x(this,e).selectors.user}},t=n;return e=new WeakMap,(()=>{n.\u0275fac=function(s){return new(s||n)}})(),(()=>{n.\u0275cmp=l({type:n,selectors:[["app-header"]],standalone:!0,features:[d],decls:6,vars:2,consts:[["routerLink","",1,"logo"],[1,"nav-bar"],[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["alt","user.username",1,"user-avatar",3,"src"]],template:function(s,k){s&1&&(c(0,"header")(1,"a",0),f(2,"conduit"),p(),c(3,"ul",1),M(4,st,4,6,"ng-container",2),M(5,ut,4,7,"ng-container",3),p()()),s&2&&(a(4),u("ngForOf",k.menu()),a(1),u("ngIf",k.currentUser()))},dependencies:[G,L,$,U],styles:["header[_ngcontent-%COMP%]{display:flex;max-width:1176px;margin:8px auto;align-items:baseline}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-family:var(--font-titillium);font-size:1.5rem;padding-top:0rem;margin-right:2rem;color:var(--green-color);text-decoration:none}header[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]{display:flex;gap:16px;margin-left:auto;list-style-type:none}header[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#0000004d;cursor:pointer}header[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, header[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#000c}header[_ngcontent-%COMP%]   .nav-bar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{height:26px;border-radius:50px;float:left;margin-right:5px}"],changeDetection:0})})(),t})();var rt=(()=>{let e=class{},t=e;return(()=>{e.\u0275fac=function(i){return new(i||e)}})(),(()=>{e.\u0275cmp=l({type:e,selectors:[["app-root"]],standalone:!0,features:[d],decls:4,vars:0,consts:[[1,"container"]],template:function(i,s){i&1&&(m(0,"app-header"),c(1,"div",0),m(2,"router-outlet"),p(),m(3,"app-footer"))},dependencies:[R,et,ot],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;min-height:calc(100vh - 149px);margin-bottom:16px}"]})})(),t})();var S=()=>{let t=o(r),e=o(v);return t.select(n=>n.isAuthenticated).pipe(h(n=>n||e.createUrlTree(["/login"])),C(1))};var A=()=>{let t=o(r),e=o(v);return t.select(n=>n.isAuthenticated).pipe(h(n=>!n||e.createUrlTree(["/"])),C(1))};var it=[{path:"login",loadComponent:()=>import("./login.component-O4FWQFUQ.js"),title:"Sign in",canMatch:[A]},{path:"register",loadComponent:()=>import("./register.component-I5BMPCQ5.js"),title:"Sign up",canMatch:[A]},{path:"editor",loadChildren:()=>import("./editor.routes-ED4HKU3K.js"),canMatch:[S],title:"Editor"},{path:"settings",loadComponent:()=>import("./setting.component-4QPPHPR3.js"),canMatch:[S],title:"Settings"},{path:"article/:slug",loadComponent:()=>import("./article-detail.component-YEXOJJQJ.js")},{matcher:t=>t.length>=1&&t[0].path.startsWith("@")?{consumed:[t[0]],posParams:{username:new N(t[0].path.slice(1),{})}}:null,loadComponent:()=>import("./profile.component-R4SZBEGV.js"),loadChildren:()=>import("./profile.routes-GQYJNID6.js")},{path:"",loadComponent:()=>import("./home.component-V6HN7IM4.js"),title:"Home"}];var at=(t,e)=>{let n=ct();if(!t.url.includes("http")){let g=t.clone({url:`${n.apiUrl}${t.url}`});return e(g)}return e(t)};var pt=(t,e)=>{let n=o(r).selectors.user()?.token;return t.url.includes("/api/")&&!t.headers.has("Authorization")&&n&&(t=t.clone({setHeaders:{Authorization:`Token ${n}`}})),e(t)};var[ct,ft]=q("EnvironmentConfig"),mt=t=>({providers:[{provide:z,useClass:Z},Y(r),W(it,Q(),K(),J(B)),ft(t),j(D([at,pt]))]});fetch("assets/config/app-config.json").then(t=>t.json()).then(t=>H(rt,mt(t)).catch(e=>console.error(e)));
